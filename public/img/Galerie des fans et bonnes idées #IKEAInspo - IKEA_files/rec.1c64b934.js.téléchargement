!function(u){function e(e){for(var n,t,r=e[0],o=e[1],c=e[2],a=0,i=[];a<r.length;a++)t=r[a],Object.prototype.hasOwnProperty.call(f,t)&&f[t]&&i.push(f[t][0]),f[t]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(u[n]=o[n]);for(m&&m(e);i.length;)i.shift()();return s.push.apply(s,c||[]),d()}function d(){for(var e,n=0;n<s.length;n++){for(var t=s[n],r=!0,o=1;o<t.length;o++){var c=t[o];0!==f[c]&&(r=!1)}r&&(s.splice(n--,1),e=p(p.s=t[0]))}return e}var t={},l={3:0},f={3:0},s=[];function p(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return u[e].call(n.exports,n,n.exports,p),n.l=!0,n.exports}p.e=function(s){var e=[];l[s]?e.push(l[s]):0!==l[s]&&{1:1,2:1,4:1,5:1,6:1}[s]&&e.push(l[s]=new Promise(function(e,r){for(var n=({0:"vendors~recommendation-carousel~revamp-add-to-cart",1:"add-to-cart",2:"category-recommendations",4:"recently-viewed",5:"recommendation-carousel",6:"revamp-add-to-cart",8:"vendors~add-to-cart",9:"vendors~recently-viewed"}[s]||s)+"."+{0:"31d6cfe0",1:"7f207c65",2:"58fe9b97",4:"9f12217e",5:"01a9469d",6:"cba659fc",8:"31d6cfe0",9:"31d6cfe0"}[s]+".css",o=p.p+n,t=document.getElementsByTagName("link"),c=0;c<t.length;c++){var a=(u=t[c]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(a===n||a===o))return e()}var i=document.getElementsByTagName("style");for(c=0;c<i.length;c++){var u;if((a=(u=i[c]).getAttribute("data-href"))===n||a===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,t=new Error("Loading CSS chunk "+s+" failed.\n("+n+")");t.request=n,delete l[s],d.parentNode.removeChild(d),r(t)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){l[s]=0}));var t=f[s];if(0!==t)if(t)e.push(t[2]);else{var n=new Promise(function(e,n){t=f[s]=[e,n]});e.push(t[2]=n);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,p.nc&&o.setAttribute("nonce",p.nc),o.src=function(e){return p.p+""+({0:"vendors~recommendation-carousel~revamp-add-to-cart",1:"add-to-cart",2:"category-recommendations",4:"recently-viewed",5:"recommendation-carousel",6:"revamp-add-to-cart",8:"vendors~add-to-cart",9:"vendors~recently-viewed"}[e]||e)+"."+{0:"f77627aa",1:"aac320ac",2:"40ab3085",4:"a6d0d969",5:"3fe7a1cf",6:"59a07f57",8:"f411793e",9:"eaa1c336"}[e]+".js"}(s);var c=new Error;r=function(e){o.onerror=o.onload=null,clearTimeout(a);var n=f[s];if(0!==n){if(n){var t=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+s+" failed.\n("+t+": "+r+")",c.name="ChunkLoadError",c.type=t,c.request=r,n[1](c)}f[s]=void 0}};var a=setTimeout(function(){r({type:"timeout",target:o})},12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(e)},p.m=u,p.c=t,p.d=function(e,n,t){p.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(n,e){if(1&e&&(n=p(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(p.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)p.d(t,r,function(e){return n[e]}.bind(null,r));return t},p.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(n,"a",n),n},p.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},p.p="https://www.ikea.com/ca/fr/recommendations/recently-viewed/",p.oe=function(e){throw console.error(e),e};var n=window.webpackJsonpRecentlyViewed=window.webpackJsonpRecentlyViewed||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var o=0;o<n.length;o++)e(n[o]);var m=r;s.push([20,7]),d()}({12:function(e,n,t){"use strict";var r=t(5),u=t.n(r),o=t(7),d=t.n(o);function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function l(e){return"string"!=typeof e&&console.warn("Product id",e,"is not a string!"),"".concat(e)}function c(n){return function(e){return window.recEvent.subscribe(n,e)}}var f="REC_UPDATE_ADD_RECOMMENDATIONS",p="REC_UPDATE_REMOVE_RECOMMENDATIONS",m="REC_UPDATE_CLEAR_RECOMMENDATIONS",v="REC_UPDATE_SET_HEADER",h="REC_UPDATE_RENAME_ANALYTICS",a=c(f),i=c(p),y=c(m),b=c(h),g=c(v);n.a={addSupport:function(){var e=window.localRecommendations||window.recommendations&&window.recommendations.addToCart||[],n=!1,t=null,r=[],o=[],c={setHeader:function(e){window.recEvent.dispatch([v],e)},clear:function(){n=!0,window.recEvent.dispatch([m],n)},renameAnalyticsLabel:function(e){t=e,window.recEvent.dispatch([h],t)},remove:function(e){Array.isArray(e)?o.push.apply(o,d()(e.map(l))):o.push(l(e)),window.recEvent.dispatch([p],o)},push:function(e){r.push.apply(r,d()(e.map(function(e){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(t,!0).forEach(function(e){u()(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}({},e,{source:"LOCAL"})}))),window.recEvent.dispatch([f],r)}};e&&c.push(e);var a={didInit:!0,addToCart:c};window.recommendations=a,window.localRecommendations=a.addToCart;var i=window.onRecommendationsLoad||[];window.onRecommendationsLoad={push:function(e){try{e("add-to-cart",a)}catch(e){}}},i.forEach(function(e){try{e("add-to-cart",a)}catch(e){}})},onAdd:a,onRemove:i,onClear:y,onAnalyticsRename:b,onSetHeader:g}},2:function(e,n,t){"use strict";n.a=function(e){try{window.sendEvent(e)}catch(e){}}},20:function(e,n,c){"use strict";c.r(n);function t(e){var n=e.count,t=e.catalogId,r=["n=".concat(n)];t&&r.push("categoryId=".concat(t));var o="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items/popular/","?").concat(r.join("&"));return fetch(o).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}function r(e){var n=e.count,t=e.itemId,r="n=".concat(n),o="".concat("https://rec.ingka.com/recommendations/v1/dk-dev/items/style","/").concat(t,"?").concat(r);return fetch(o).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e.data.recommended,{configId:r}]})})}function o(e){var n=e.count,t="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items/easypick/","?n=").concat(n);return fetch(t).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}function a(e){var n=e.count,t="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items/new/","?n=").concat(n);return fetch(t).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}function i(e){var n=e.count,t="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items/bti/","?n=").concat(n);return fetch(t).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}function u(e){var n=e.count,t=e.itemId,r="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items","/").concat(t,"?n=").concat(n,"&filter=allSameCat");return fetch(r).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}function d(e){var n=e.count,t=e.itemId,r="".concat("https://rec.ingka.com/recommendations/v1/fr-prod/items","/").concat(t,"?n=").concat(n);return fetch(r).then(function(e){var n=e.headers.get("x-ikea-rec-config-id")||null;if(e.ok)return[e,n]}).then(function(e){var n=x()(e,2),t=n[0],r=n[1];return t.json().then(function(e){return[e,{configId:r}]})})}var s=c(0),l=c.n(s),f=c(3),p=c.n(f),m=c(7),v=c.n(m),h=c(10),y=c.n(h),b=c(11),g=c.n(b),_=function(){function e(){y()(this,e),this.subscriptions={},this.history={}}return g()(e,[{key:"getHistory",value:function(e){return this.history[e]||null}},{key:"dispatch",value:function(n,t){if(this.history[n]=[].concat(v()(this.history[n]||[]),[t]),!this.subscriptions[n])return null;this.subscriptions[n].forEach(function(e){e(n,t)})}},{key:"subscribe",value:function(e,n){this.subscriptions[e]?this.subscriptions[e].push(n):this.subscriptions[e]=[n]}}]),e}(),w=c(6),k=c(12),O={category:{enabled:!1,loaded:!1,module:null,onLoad:[]},addToCart:{enabled:!0,loaded:!1,module:null,onLoad:[]},recentlyViewed:{enabled:!0,loaded:!1,module:null,onLoad:[]},carousel:{enabled:!1,loaded:!1,module:null,onLoad:[]}},j=function(){var e=p()(l.a.mark(function e(){var n,t,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O.category.enabled)return e.next=3,c.e(2).then(c.bind(null,87));e.next=7;break;case 3:n=e.sent,O.category.loaded=!0,O.category.module=n,O.category.onLoad.forEach(function(e){e(n)});case 7:if(!O.addToCart.enabled){e.next=21;break}!1,e.next=15;break;case 12:t=e.sent,e.next=18;break;case 15:return e.next=17,Promise.all([c.e(8),c.e(1)]).then(c.bind(null,84));case 17:t=e.sent;case 18:O.addToCart.loaded=!0,O.addToCart.module=t,O.addToCart.onLoad.forEach(function(e){e(t)});case 21:if(O.carousel.enabled)return e.next=24,Promise.all([c.e(0),c.e(5)]).then(c.bind(null,85));e.next=28;break;case 24:r=e.sent,O.carousel.loaded=!0,O.carousel.module=r,O.carousel.onLoad.forEach(function(e){e(r)});case 28:if(O.recentlyViewed.enabled)return e.next=31,Promise.all([c.e(9),c.e(4)]).then(c.bind(null,86));e.next=35;break;case 31:o=e.sent,O.recentlyViewed.loaded=!0,O.recentlyViewed.module=o,O.recentlyViewed.onLoad.forEach(function(e){e(o)});case 35:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=c(5),P=c.n(E),C=c(1),x=c.n(C),T=function(e){var n=e.productId;return fetch("https://rec.ingka.com/recommendations/v1/ca-prod/items/addtocart".concat("/"+n)).then(function(e){if(e.ok)return e}).then(function(e){return e.json()})},I=c(9),A=c(8);function L(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function R(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?L(t,!0).forEach(function(e){P()(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function S(e){var a=0<arguments.length&&void 0!==e?e:"unknown_recommendation";return function(e){var n=e.index,t=e.type,r=e.event,o=Object(I.a)(r.target,"a");if(o){var c=o.parentNode.parentNode.dataset.refId;A.a.productClick({id:"s"===c[0]?c.substring(1):c,index:n,type:t,composition:a})}}}var D=function(){var n=p()(l.a.mark(function e(n){var t,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.productId,e.next=3,T({productId:t});case 3:return r=e.sent,e.abrupt("return",r&&r.data&&r.data.recommended.map(function(e){return R({},e,{source:"API"})}));case 5:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}(),N={popular:{func:t,analyticsHandler:S("popular")},easyPickers:{func:o,analyticsHandler:S("easyPickers")},newProducts:{func:a,analyticsHandler:S("newProducts")},btiProducts:{func:i,analyticsHandler:S("btiProducts")},styleProducts:{func:r,analyticsHandler:S("styleProducts")},recent:{func:function(e){return{}},analyticsHandler:function(){}},similar:{func:u,analyticsHandler:function(e,n){var t=e.event,r=n.configId;Object(I.a)(t.target,"a")&&A.a.pipRecommendationsLinkClick({label:"catalogue_recommendations",configId:r})}},youMightLike:{func:d,analyticsHandler:function(e,n){var t=e.event,r=n.configId;Object(I.a)(t.target,"a")&&A.a.pipRecommendationsLinkClick({label:"general_recommendations",configId:r})}},addToCart:{func:D,analyticsHandler:function(){}}};var M=document.querySelector(".js-product-pip[data-product-id]"),H=function(){var n=p()(l.a.mark(function e(n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.run();case 1:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}(),V=function(){if(k.a.addSupport(),O.recentlyViewed.onLoad.push(H),M){var e=M.dataset.productId;O.addToCart.onLoad.push(function(u,d,e){var s=e.productId;return function(){var n=p()(l.a.mark(function e(n){var t,r,o,c,a,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.AddToCartContainer,r=N[d]&&N[d].func)return e.next=5,r({productId:s});e.next=10;break;case 5:o=e.sent,c=document.querySelector("[data-test-target-product-name]"),a=c&&c.innerHTML,(i=document.querySelector(u))&&Object(w.render)(Object(w.h)(t,{productId:s,productName:a,recommendations:o}),i);case 10:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}()}(".js-sticky-bottom-bar","addToCart",{productId:e}))}j()};window.recEvent=new _,p()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{window.addEventListener("load",p()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:V();case 1:case"end":return e.stop()}},e)})))}catch(e){console.error(e)}case 1:case"end":return e.stop()}},e)}))()},4:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return o}),t.d(n,"e",function(){return c}),t.d(n,"c",function(){return a}),t.d(n,"d",function(){return i});var r={event_category:"pip_page_actions",event_action:"add_to_cart_popup_action",event_label:"add_to_cart_recommendations",transport_type:"beacon",custom:{version:"ikea_rec"}},o={event_category:"recommendations_event",event_action:"rec_ab_test_decision",transport_type:"beacon",custom:{version:"ikea_rec"}},c={event_action:"link_clicks",event_label:"recently_viewed_recommendations",transport_type:"beacon",custom:{version:"ikea_rec"}},a={event_category:"plp_page_actions",event_action:"link_clicks",event_label:"category_recommendations",transport_type:"beacon",custom:{version:"ikea_rec"}},i={name:"view_item_list",transport_type:"beacon"}},8:function(e,n,t){"use strict";function r(e){l(e)&&Object(d.a)({event_label:"pip-post-purchase-addon | ".concat(e.composition),name:"add_to_cart",params:{currency:e.currency,items:[{id:e.id,price:e.price,quantity:e.quantity,list_click_position:e.index}]}})}function o(e){p(e)&&Object(d.a)(Object.assign(f.b,{event_label:"product_click | ".concat(e.type),custom:{version:"ikea_rec",item_number_event:e.id,technical_component:"".concat(e.composition),position:e.index}}))}function c(){Object(d.a)(Object.assign(f.b,{event_label:"rec_popup_available",custom:{version:"ikea_rec"}}))}function a(e){h(e)&&Object(d.a)(Object.assign(f.e,{event_category:e.event_category}))}function i(){Object(d.a)(f.c)}function u(e){y(e)&&Object(d.a)({event_category:"pip_page_actions",event_action:"link_clicks",event_label:e.label,transport_type:"beacon",custom:{version:"ikea_rec",product_list_variant:e.configId}})}var d=t(2),s=function(n,r){return function(t){var e=Object.keys(r).reduce(function(e,n){return void 0===t[n]?e.concat(n):e},[]);return!e.length||(console.error("Missing keys in object [".concat(n,"]: ").concat(e)),!1)}},l=s("addToCart",{currency:!0,id:!0,price:!0,quantity:!0,composition:!0,index:!0}),f=t(4),p=s("productClick",{id:!0,composition:!0,type:!0,index:!0}),m=s("addToCart",{composition:!0}),v=function(n){return function(e){m(e)&&Object(d.a)(Object.assign(f.b,{event_label:n,custom:{version:"ikea_rec",technical_component:"".concat(e.composition),dimension55:e.variation}}))}},h=s("recentlyViewedProductClick",{event_category:!0}),y=s("addToCart",{label:!0,configId:!0});n.a={addToCart:r,productClick:o,closePopup:{cancel:v("close_cancel"),cross:v("close_x"),overlay:v("close_overlay")},openPopup:v("open_popup"),cartLink:v("cart_link_click"),popupAvailable:c,recentlyViewedProductClick:a,categoryClick:i,pipRecommendationsLinkClick:u}},9:function(e,n,t){"use strict";n.a=function(e,n){for(var t=e;t;){if(t.matches&&t.matches(n))return t;t=t.parentNode}return null}}});
//# sourceMappingURL=rec.1c64b934.js.map