"use strict";window.addEventListener("DOMContentLoaded",function(){if(~["/ca/fr/campaigns/slider-pub90c61701","/ca/en/campaigns/slider-pub1c1c83e1","/ca/fr/campaigns/slider-pub1c1c83e1","/ca/en/","/ca/fr/"].indexOf(window.location.pathname)){console.log("slider.js > page matches criteria");var e="function"==typeof window.webcaGeo&&window.webcaGeo();Boolean(e.unit)?(e=e.unit,console.log("slider.js > Closest location is "+e.city+", "+e.province+" ("+e.uid+")")):(e=!1,console.log("slider.js > no geoData available"));var i,n=((i=document.createElement("div")).id="homepage-slider",i),o=document.querySelector(".page-title");if(o){o.appendChild(n),console.log("slider.js > inserted container");var t=new XMLHttpRequest;t.open("GET","https://www.ikea.com/ca/en/data-sources/f0be38f0b16d11e8ac454b82d0cd1b0e.json",!0),t.onload=function(){if(!(this.status<200||this.status>=400)){for(var i=JSON.parse(this.response).slides||[],o=~window.location.pathname.indexOf("/ca/en/")?"":"_FR",t=Boolean(~window.location.search.indexOf("preview-all")),r=0;r<i.length;r++){var c=i[r],l="slide-"+r.toString();if(t)a(n,l,c["img_mobile_src"+o],c["img_desktop_src"+o],c["target_link"+o]);else if(Boolean(s(c.start_date,c.end_date))){console.log("slider.js > slide #"+r+" meets date criteria");var d=c.geotarget||!1;if(d&&Boolean(d.enabled)){if(!e)continue;var p=d.provinces&&d.provinces.split(",")||[],u=d.cities&&d.cities.split(",")||[];if(Boolean(d.exclude)){if(~p.indexOf(e.province)||~u.indexOf(e.city))continue}else if(!~p.indexOf(e.province)&&!~u.indexOf(e.city))continue;console.log("slider.js > slide #"+r+" meets geolocation criteria (!!!)")}a(n,l,c["img_mobile_src"+o],c["img_desktop_src"+o],c["target_link"+o]),console.log("slider.js > slide #"+r+" has been created")}}tns({container:"#homepage-slider",controls:!1,items:1,controlsText:["",""],autoplay:"true",autoplayButtonOutput:!1,mouseDrag:"true",lazyload:!0,responsive:{550:{items:1,gutter:50},1200:{controls:!0}}})}},t.send()}}function a(e,i,n,o,t){var a=document.createElement("div");a.className+=" homepage-slide "+i,a.innerHTML="<style> ."+i+" a { background: url("+n+") } @media (min-width: 550px) { ."+i+" a { background: url("+o+") } } </style><a href ="+t+"></a>",e.appendChild(a)}function s(e,i){if(~window.location.search.indexOf("bypass-time-params"))return!0;var n=new Date,o=new Date(e),t=new Date(i);return 1==(n>o&&n<t)}});