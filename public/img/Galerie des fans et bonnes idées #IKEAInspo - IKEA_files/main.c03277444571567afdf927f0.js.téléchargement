"use strict";function getLanguage(){var e=window.location.href;e.indexOf("/en/");return e.indexOf("/fr/")>0?2:1}function urlPrms(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function createIframe(e){var t=document.createElement("iframe");return t.className=e.className||"",t.src=e.src||"",t.width=e.width||375,t.setAttribute("scrolling","no"),t.style.cssText=e.cssText||"",e.id&&(t.id=e.id),e.name&&(t.name=e.name),e.style&&(t.style=e.style),t}function createDiv(e){var t=document.createElement("div");return t.className=e.className||"",t.style.height=e.classHeight+"px"||"",t.style.cssText=e.cssText||"",e.id&&(t.id=e.id),e.style&&(t.style=e.style),t}function RemoveAccents(e){var t,o,r=(e=e.split("")).length;for(t=0;t<r;t++)-1!=(o="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž".indexOf(e[t]))&&(e[t]="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz"[o]);return e.join("")}function getURL(){return document.location.href}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}window.addEventListener("DOMContentLoaded",function(){({Common:{getUrlVars:function(){var e={};document.URL.replace(/[?&]+([^=&]+)=([^&#]*)/gi,function(t,o,r){e[o]?e[o]instanceof Array?e[o].push(r):e[o]=[e[o],r]:e[o]=r});return e},uridecode:function(e){try{return e=decodeURIComponent(e.replace(/\+/g," "))}catch(e){}},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}},init:function(){var e=this.Common,t=e.getUrlVars();if(t.rdm||t.rdd)if(e.isMobile.any()){if(t.rdm&&this.redirekt(t.rdm,t.delay,"https"),t.rdd&&window.history&&window.history.replaceState){var o=window.location.href.replace("rdd="+t.rdd,"");window.history.replaceState({},"",o)}}else if(t.rdd&&this.redirekt(t.rdd,t.delay,"https"),t.rdm&&window.history&&window.history.replaceState){o=window.location.href.replace("rdm="+t.rdm,"");window.history.replaceState({},"",o)}var r=document.querySelector("ol.breadcrumb > li > a");document.getElementsByClassName("header__logo")[0],getLanguage();r&&r.href,console.log("Language Link Check Initialized====>")},redirekt:function(e,t,o){var r=this.Common;-1==(e=(e=r.uridecode(e)).replace(/\-q\-/g,"?").replace(/\-h\-/g,"#").replace(/\-e\-/g,"=").replace(/\-a\-/g,"&").replace(/\-p\-/g,"%").replace(/\-s\-/g,";")).indexOf(o)&&(e=o+"://"+e),(t=t||1)>1?setTimeout(function(){window.location=e},t):window.location=e}}).init();for(var e=document.querySelectorAll("h1,h2"),t=0;t<e.length;t++)if(null!=e[t].innerText){var o=e[t].innerText.replace(/\s/g,"_");0==e[t].hasAttribute("id")&&(e[t].id=o.toLowerCase())}console.log("Anchor Tags 0.5.1 Initialized====>");var r=getURL(),n=urlPrms("family",window.location.href),s=(urlPrms("family-",window.location.href),urlPrms("offers",window.location.href));urlPrms("store-offers",window.location.href);if(r.indexOf("-store-index-")>0||r.indexOf("-pup-")>0||r.indexOf("-store-offers-")>0||r.indexOf("-offres-en-magasin-")>0||r.indexOf("-family-offers-")>0||r.indexOf("offres-family-")>0){(r=getURL()).indexOf("/stores/");var a="";(a=(a=r.replace("https://m2.ikea.com/ca/en/stores/","")).replace("https://m2.ikea.com/ca/fr/stores/","")).indexOf("-store-")<0&&a.indexOf("-pup-");var i=0,l=setInterval(function(){var e=document.getElementsByTagName("H1")[0],t=RemoveAccents(e.id),o=e.id.replace("ikea_","");if((o=(o=(o=(o=(o=o.replace("_","")).replace("store_offers","")).replace("offres_en_magasin","")).replace("family_offers","")).replace("offresfamily_à_","")).indexOf("halifax")>=0&&(o="ikea"+o),e){createDiv({id:"div_"+t,cssText:""}),document.getElementsByClassName("page-title__container")[0];var c=document.getElementsByClassName("social-media-bar")[0],d=["_store_index","_store_offers","_pup_index","_famoffers","_store_offers","_store_services"];document.getElementsByClassName("component")[0].style.margin="0px",c.style.cssText="display:none";var f="",m="en",p=a.indexOf("-pup-");if(o=RemoveAccents(o),["boucherville","ottawa","montreal","quebec"].indexOf(o)>=0&&(m=1==getLanguage()?"en":"fr"),o=o.replace(".","_"),f=p>=0?"https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[2]+"/":"https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[0]+"/",1==n&&(f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[3]+"/"),(r.indexOf("-family-offers-")>0||r.indexOf("offres-family-")>0)&&(f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store"+d[3]+"/"),(r.indexOf("-store-offers-")>0||r.indexOf("-offres-en-magasin-")>0)&&(f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[1]+"/"),5==s&&(f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[6]+"/"),1==s&&(f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+d[1]+"/"),window.location.hash)switch(window.location.hash){case"#services":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_services/";break;case"#waystoshop":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_shop/";break;case"#planyourvisit":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_plan/";break;case"#events":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_events/";break;case"#food":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_food/";break;case"#offers":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_offers/";break;case"#familyoffers":f="https://d38r361x0qb21v.cloudfront.net/lsowfe/stores/mobile.php?store=https://m.ikea.com/ca/"+m+"/pages/local_store/"+o+"_store_famoffers/"}if(window.location.search){(function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);o&&(o[2]&&decodeURIComponent(o[2].replace(/\+/g," ")))})("preview");"true"&&(f=f+"&"+window.location.search.substring(1))}var u=document.createElement("iframe");u.id="caContent",u.style.width="100%",u.style.height="300px",u.setAttribute("scrolling","none"),u.style.display="block",u.style.margin="0 auto",u.style.maxWidth="1200px",u.style.textAlign="center",u.style.border="16px solid transparent",u.style.overflow="hidden",u.setAttribute("src",f),document.querySelector("body > main").appendChild(u);var h=document.createElement("style");h.innerHTML="main>article>iframe{max-width:1408px!important;width:100%!important;text-align:center!important;display:block!important;margin:auto!important;padding:16px!important}",document.head.appendChild(h),window.addEventListener("message",function(e){if("https://d38r361x0qb21v.cloudfront.net"!==event.origin)return!1;if(e.data.frameHeight&&e.origin){var t=document.querySelector('iframe[src^="'+e.origin+'"]'),o=e.data.frameHeight?e.data.frameHeight+32+"px":"500px";t.height=o,t.style.height=o}if(e.data.modalHTML){if(document.getElementById("lspModal"))return!1;var r=document.createElement("div");r.id="lspModal",r.innerHTML=e.data.modalHTML,document.body.appendChild(r)}},!1),clearInterval(l)}10==i&&clearInterval(l),i+=1},100);window.addEventListener("scroll",function(e){var t=this.scrollY;if(document.getElementById("sticky-menu"))if(t>1800){document.getElementById("sticky-menu").style.display="block";for(var o=document.getElementsByClassName("stickymenuitem"),r=0;r<o.length;r++)o[r].addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");document.querySelector('[name="M2Store"]').contentWindow.postMessage(t,"*")})}else document.getElementById("sticky-menu").style.display="none"},!1)}console.log("IFrame Local Stores v6.8.1 Initialized====>")});